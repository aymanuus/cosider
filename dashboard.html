<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard - Cosider</title>
  <link rel="stylesheet" href="dashboard.css" />
  <style>
    .submenu {
      display: none;
      list-style: none;
      padding-left: 20px;
    }
    .sidebar-menu li:hover .submenu {
      display: block;
    }
    .submenu li a {
      font-size: 14px;
      padding-left: 10px;
      display: block;
    }
  </style>
</head>
<body class="light-mode">

  <!-- Sidebar -->
<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="cosider2.png" alt="Logo Cosider" class="sidebar-logo" />
      <span class="close-btn" onclick="toggleSidebar()">‚úñ</span>
    </div>
    <ul class="sidebar-menu">
      <li><a href="dashboard.html"><i class="fa-solid fa-house"></i> Accueil</a></li>
      <li>
        <a href="#"><i class="fa-solid fa-bars"></i> Menu principale</a>
        <ul class="submenu">
          <li><a href="budjet.html">‚ñ´Ô∏è Budjet</a></li>
        </ul>
      </li>
      <li>
        <a href="#"><i class="fa-solid fa-truck-pickup"></i> Mat√©riels</a>
        <ul class="submenu">
          <li><a href="listemateriels.html">‚ñ´Ô∏è Liste Mat√©riels</a></li>
          <li><a href="listemarques.html">‚ñ´Ô∏è Liste Marques</a></li>
          <li><a href="#">‚ñ´Ô∏è Structure</a></li>
          <li><a href="#">‚ñ´Ô∏è NT</a></li>
        </ul>
      </li>
      <li><a href="messagerie.html"><i class="fa-brands fa-rocketchat"></i> Messagerie</a></li>
      <li>
        <a href="#"><i class="fa-solid fa-sliders"></i> Parametre</a>
        <ul class="submenu">
          <li>
            <a href="#"><i class="fa-solid fa-street-view"></i> Direction</a>
            <ul class="submenu">
              <li><a href="#">‚ñ´Ô∏è Equipement</a></li>
              <li><a href="#">‚ñ´Ô∏è Gamme</a></li>
              <li><a href="#">‚ñ´Ô∏è Intervention</a></li>
            </ul>
          </li>
          <li><a href="#"><i class="fa-brands fa-ubuntu"></i> Operation</a></li>
          <li><a href="#"><i class="fa-solid fa-cube"></i> PDR</a></li>
          <li><a href="structures.html"><i class="fa-solid fa-building"></i> Gestion des Structures</a></li> <!-- Ajout√© ici -->
        </ul>
      </li>
    </ul>
</aside>



  <!-- Main Content -->
  <div class="main-content">
    <!-- Topbar -->
    <div class="topbar">
      <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
      <h1>Bienvenue, Chef de Chantier</h1>
      <button class="dark-mode-toggle" onclick="toggleDarkMode()">üåì</button>
    </div>

    <!-- Dashboard Cards -->
    <div class="cards">
      <div class="card">
        <button class="card-btn" onclick="toggleSection('projetsActuels')">üìå Projets en cours</button>
        <div class="dropdown" id="projetsActuels">
          <button class="sub-btn" onclick="toggleSection('chantier1')">Chantier Actif</button>
          <div class="dropdown" id="chantier1">
            <p>üìç Alger, Alg√©rie</p>
          </div>
        </div>
      </div>

      <div class="card">
        <button class="card-btn" onclick="toggleSection('projetsTermines')">‚úÖ Projets termin√©s</button>
        <div class="dropdown" id="projetsTermines">
          <p>Projet B√©ton Oued Smar</p>
          <p>Projet Logement Bab Ezzouar</p>
        </div>
      </div>

      <div class="card">
        <button class="card-btn" onclick="toggleSection('notifications')">üîî Notifications</button>
        <div class="dropdown" id="notifications">
          <p>üì© 3 nouveaux messages</p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="facture-btn" onclick="toggleFacture()">üßæ Factures</button>
      <button class="requisition-btn" onclick="toggleRequisition()">üì¶ Requisitions</button>
      <button class="upload-btn" onclick="document.getElementById('pdfUpload').click()">‚ûï Nouvelle Requisition</button>
      <input type="file" id="pdfUpload" accept="application/pdf" onchange="validatePDF()" style="display: none;" />
    </div>

    <!-- Tables -->
    <div class="facture-table-container" id="factureTable">
      <h2>Factures</h2>
      <table>
        <thead>
          <tr>
            <th>Facture N¬∞</th>
            <th>Client</th>
            <th>Montant</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>F001</td>
            <td>Entreprise BTP Maghreb</td>
            <td>1 200 000 DZD</td>
            <td>2025-04-01</td>
          </tr>
          <tr>
            <td>F002</td>
            <td>Groupe Immo Sahel</td>
            <td>850 000 DZD</td>
            <td>2025-03-21</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="requisition-table-container" id="requisitionTable">
      <h2>Mat√©riel Requisitionn√©</h2>
      <table>
        <thead>
          <tr>
            <th>Mat√©riel</th>
            <th>Quantit√©</th>
            <th>Statut</th>
            <th>Suivi</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>BULLDOZER</td>
            <td>2 unit√©s</td>
            <td>Approuv√©</td>
            <td>-</td>
          </tr>
          <tr>
            <td>PELLE M√âCANIQUE</td>
            <td>3 unit√©s</td>
            <td>En attente</td>
            <td><button class="track-btn">Suivre</button></td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

  <!-- JavaScript -->
  <script>
    function toggleSection(id) {
      const section = document.getElementById(id);
      section.classList.toggle("active");
    }

    function toggleFacture() {
      const table = document.getElementById("factureTable");
      table.style.display = table.style.display === "block" ? "none" : "block";
    }

    function toggleRequisition() {
      const table = document.getElementById("requisitionTable");
      table.style.display = table.style.display === "block" ? "none" : "block";
    }

    function validatePDF() {
      const input = document.getElementById("pdfUpload");
      const file = input.files[0];
      if (file && file.type !== "application/pdf") {
        alert("‚ùå Seuls les fichiers PDF sont autoris√©s !");
        input.value = "";
      } else if (file) {
        alert("‚úÖ Fichier PDF charg√© : " + file.name);
      }
    }

    function toggleSidebar() {
      document.getElementById("sidebar").classList.toggle("active");
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }
  </script>

</body>
</html>
